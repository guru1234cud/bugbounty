<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>ISIS Intel Dashboard</title>
  <style>
    :root {
      --primary-green: #00ff41;
      --dark-green: #003300;
      --accent-orange: #ff6b35;
      --military-blue: #1e3a8a;
      --bg-dark: #0a0a0a;
      --bg-secondary: #1a1a1a;
      --text-primary: #ffffff;
      --text-secondary: #b0b0b0;
      --text-muted: #808080;
      --glass-bg: rgba(0, 255, 65, 0.08);
      --glass-border: rgba(0, 255, 65, 0.2);
      --matrix-green: #00ff41;
      --warning-red: #dc2626;
    }

    body {
      background-color: #0c0c0c;
      color: #e74c3c;
      font-family: "Courier New", monospace;
      margin: 0;
      padding: 0;
      user-select: none;
    }

    .timer-container {
      position: fixed;
      top: 80px;
      right: 30px;
      font-size: 40px;
      font-style: italic;
      text-shadow: 2px 2px 4px rgba(228, 18, 18, 0.7);
      color: #00ff41;
      font-weight: bold;
      z-index: 9999;
      margin-top: 15px;
    }

    .menu-btn {
      position: fixed;
      top: 45px;
      left: 50px;
      background: #01af2d;
      border: 2px red solid;
      color: white;
      box-shadow: 3px 3px 3px 0px red;
      font-size: 24px;
      padding: 10px 24px;
      border-radius: 6px;
      z-index: 1001;
      animation: glitch 1s infinite;
    }

    .side_nav {
      position: fixed;
      top: 0;
      left: -350px;
      width: 350px;
      height: 100%;
      background-color: #1a1a1a;
      box-shadow: 2px 0 8px rgba(14, 14, 14, 0.4);
      z-index: 1000;
      transition: left 0.3s ease;
      padding-top: 100px;
    }

    .side_nav.open {
      left: 0;
    }

    .close-btn {
      position: absolute;
      top: 40px;
      right: 20px;
      background: #02cc02;
      box-shadow: 2px 3px 5px rgba(255, 0, 0, 0.6);
      border: 2px red solid;
      font-size: 20px;
      padding: 8px 12px;
      border-radius: 6px;
      color: white;
    }
.side_nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-direction: column;
            gap: 30px;
            align-items: center;
            margin-top: 100px;
        }



        .side_nav ul li a {
            color: rgb(0, 10, 2);
            text-decoration: none;
            background-color: #04c704;
            padding: 15px 25px;
            width: 200px;
            /* ✅ Fixed width for all buttons */
            text-align: center;
            border-radius: 6px;
            font-weight: bold;
            box-shadow: 2px 3px 5px rgba(255, 0, 0, 0.6);
            transition: 0.3s ease;
            font-size: 1.1rem;

            display: inline-block;
            /* ✅ Ensure width works correctly */
            margin-bottom: 0px;
        }
    .side_nav ul li a:hover {
      background-color: #18f904;
      transform: scale(1.05);
    }

    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: #111;
      padding: 10px 20px;
      color: white;
      border-bottom: 3px solid red;
    }

    .navbar h1 {
      display: flex;
      margin-left: 700px;
      align-items: center;
      font-family: 'JetBrains Mono', monospace;
      font-size: 40px;
      font-weight: 700;
      color: var(--primary-green);
      text-shadow: 2px 2px 4px rgba(228, 18, 18, 0.7);
      letter-spacing: 2px;
      margin-bottom: 0.5rem;
      text-transform: uppercase;
      font-style: italic;
    }

    .icon {
      height: 80px;
      width: auto;
    }

    .container {
      color: #ed0404;
      margin: 20px auto;
      padding: 30px;
      max-width: 100%;
      text-align: left;
      display: flex;
      justify-content: center;
      text-shadow: 2px 2px 4px rgba(241, 5, 5, 0.7);
    }

    .container h1 {
      font-size: 35px;
      text-transform: uppercase;
      font-family: 'JetBrains Mono', monospace;
      font-size: 40px;
      font-weight: 700;
      color: var(--primary-green);
      text-shadow: 2px 2px 4px rgba(228, 18, 18, 0.7);
      letter-spacing: 2px;
      margin-bottom: 0.5rem;
      text-transform: uppercase;
      font-style: italic;
    }

    .division {
      font-size: 1.1rem;
      color: var(--text-secondary);
      margin-bottom: 1rem;
      padding: 3rem;
      background: black;
      border-radius: 8px;
      border-left: 4px solid var(--primary-green);
      border: 1px solid rgba(0, 255, 64, 0.719);
      transition: all 0.3s ease;
      position: relative;
      font-weight: 500;
      width: fit-content;
      margin-left: 450px;
      box-shadow: rgba(0, 255, 64, 0.503) 3px 4px 5px 0px;
    }

    .division:hover {
      transform: translateY(-2px);
      box-shadow:
        0 12px 40px rgba(0, 0, 0, 0.5),
        inset 0 1px 0 rgba(2, 241, 62, 0.89);
      border-color: var(--primary-green);
    }

    .division ul li {
      font-size: 1.1rem;
      color: var(--text-secondary);
      margin-bottom: 1rem;
      padding: 1rem 1.5rem;
      background: linear-gradient(135deg, rgba(0, 255, 65, 0.05), rgba(30, 58, 138, 0.03));
      border-radius: 8px;
      border-left: 4px solid var(--primary-green);
      border: 1px solid rgba(2, 120, 32, 0.929);
      transition: all 0.3s ease;
      position: relative;
      font-weight: bold;
      color: #00ff41;
    }

    .glitch {
      animation: glitch 1s infinite;
    }

    @keyframes glitch {
      0% {
        text-shadow: 0.05em 0 0 #ff0000, -0.03em -0.04em 0 #00ff00, 0.025em 0.04em 0 #0000ff;
      }

      15% {
        text-shadow: 0.05em 0 0 #ff0000, -0.03em -0.04em 0 #00ff00, 0.025em 0.04em 0 #0000ff;
      }

      16% {
        text-shadow: -0.05em -0.025em 0 #ff0000, 0.025em 0.035em 0 #00ff00, -0.05em -0.05em 0 #0000ff;
      }

      49% {
        text-shadow: -0.05em -0.025em 0 #ff0000, 0.025em 0.035em 0 #00ff00, -0.05em -0.05em 0 #0000ff;
      }

      50% {
        text-shadow: 0.05em 0.035em 0 #ff0000, 0.03em 0 0 #00ff00, 0 -0.04em 0 #0000ff;
      }

      99% {
        text-shadow: 0.05em 0.035em 0 #ff0000, 0.03em 0 0 #00ff00, 0 -0.04em 0 #0000ff;
      }

      100% {
        text-shadow: -0.05em 0 0 #ff0000, -0.025em -0.04em 0 #00ff00, -0.04em -0.025em 0 #0000ff;
      }
    }

    .terminal,
    .intel-feed,
    .mission-upload,
    .agent-grid {
      width: 80%;
      margin: 40px auto;
    }

    .terminal {
      background-color: #000;
      color: #00ff00;
      font-family: monospace;
      padding: 20px;
      border: 2px solid #00ff41;
      height: 300px;
      overflow-y: scroll;
    }

    #terminal-input {
      width: 100%;
      background: #111;
      color: #0f0;
      border: none;
      padding: 10px;
    }

    .intel-feed {
      background: #1a1a1a;
      color: #f33;
      font-family: monospace;
      border: 1px dashed #05f72e;
      padding: 20px;
    }

    .mission-upload {
      background: rgb(1, 87, 1);
      padding: 20px;
      border: 2px solid #04f718;
      color: white;
    }

    .mission-upload input,
    .mission-upload textarea {
      width: 100%;
      margin: 10px 0;
      padding: 10px;
      background: #000;
      color: red;
      border: 1px solid #00ff41;
    }

    .mission-upload button {
      background: red;
      color: white;
      font-weight: bold;
      padding: 10px 20px;
      border-radius: 7px;
      border: none;
    }

    .agent-grid {
      display: flex;
      justify-content: center;
      gap: 20px;
    }

    .agent-card {
      background: #111;
      color: white;
      padding: 20px;
      border-radius: 8px;
      border: 2px solid red;
      box-shadow: 0 0 10px #00ff41;
      width: 200px;
      text-align: center;
    }

    .agent-card.active {
      background-color: #003300;
    }

    .agent-card.infiltrated {
      background-color: #330000;
    }

    .agent-card.missing {
      background-color: #331100;
    }

    .matrix-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      background:
        radial-gradient(ellipse at center, rgba(9, 73, 25, 0.459) 0%, transparent 70%),
        linear-gradient(180deg, var(--bg-dark) 0%, #0d1117 50%, var(--bg-dark) 100%);
    }

    .matrix-bg::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image:
        radial-gradient(circle at 25% 25%, rgba(4, 112, 31, 0.797) 0%, transparent 2%),
        radial-gradient(circle at 75% 75%, rgba(30, 58, 138, 0.05) 0%, transparent 2%);
      background-size: 70px 70px;
      animation: matrixMove 25s linear infinite;
    }

    @keyframes matrixMove {
      0% {
        background-position: 0 0;
      }

      100% {
        background-position: 70px 70px;
      }
    }

    /* ===== LAPTOP RESPONSIVE MEDIA QUERIES ===== */

    /* Large Laptops and Desktops (1600px+) */
    @media screen and (min-width: 1600px) {
      .navbar h1 {
        font-size: 48px;
        margin-left: 750px;
      }

      .container h1 {
        font-size: 48px;
        margin-left: 70px;
      }

      .timer-container {
        font-size: 48px;
        top: 50px;
        right: 40px;
      }

      .menu-btn {
        font-size: 28px;
        padding: 12px 28px;
        top: 40px;
        left: 60px;
      }

      .division {
        margin-left: 550px;
        padding: 4rem;
      }

      .terminal,
      .intel-feed,
      .mission-upload,
      .agent-grid {
        width: 70%;
        margin: 50px auto;
      }

      .agent-card {
        width: 250px;
        padding: 25px;
      }
    }

    /* Standard Laptops (1366px - 1599px) */
    @media screen and (max-width: 1599px) and (min-width: 1366px) {
      .navbar h1 {
        font-size: 36px;
        margin-left: 565px;
      }

      .container h1 {
        font-size: 36px;
      }

      .timer-container {
        font-size: 36px;
        top: 15px;
        right: 45px;
      }

      .menu-btn {
        font-size: 22px;
        padding: 8px 20px;
        top: 50px;
        left: 40px;
      }

      .division {
        margin-left: 370px;
        padding: 3.5rem;
        max-width: 800px;
      }

      .terminal,
      .intel-feed,
      .mission-upload,
      .agent-grid {
        width: 85%;
      }

      .agent-grid {
        flex-wrap: wrap;
        gap: 15px;
      }

      .agent-card {
        width: 180px;
        padding: 18px;
      }
    }

    /* Small Laptops (1024px - 1365px) */
    @media screen and (max-width: 1365px) and (min-width: 1024px) {
      .navbar {
        padding: 8px 15px;
      }

      .navbar h1 {
        font-size: 32px;
        margin-left: 300px;
        letter-spacing: 1px;
      }

      .container h1 {
        font-size: 32px;
      }

      .timer-container {
        font-size: 32px;
        top: 65px;
        right: 20px;
      }

      .menu-btn {
        font-size: 20px;
        padding: 8px 16px;
        top: 55px;
        left: 30px;
      }

      .icon {
        height: 60px;
      }

      .division {
        margin-left: 150px;
        padding: 2rem;
        max-width: 700px;
      }

      .division ul li {
        font-size: 1rem;
        padding: 0.8rem 1.2rem;
      }

      .terminal,
      .intel-feed,
      .mission-upload,
      .agent-grid {
        width: 90%;
        margin: 30px auto;
      }

      .terminal {
        height: 250px;
        padding: 15px;
      }

      .agent-grid {
        flex-wrap: wrap;
        gap: 12px;
      }

      .agent-card {
        width: 160px;
        padding: 15px;
        font-size: 0.9rem;
      }

      .side_nav {
        width: 300px;
        left: -300px;
      }

      .side_nav ul {
        gap: 30px;
        margin-top: 80px;
      }

      .side_nav ul li a {
        font-size: 1rem;
        padding: 12px 20px;
      }
    }

    /* Very Small Laptops and Large Tablets (768px - 1023px) */
    @media screen and (max-width: 1023px) and (min-width: 768px) {
      .navbar {
        flex-direction: column;
        padding: 10px;
        gap: 10px;
      }

      .navbar h1 {
        font-size: 28px;
        margin-left: 0;
        text-align: center;
      }

      .container h1 {
        font-size: 28px;
        text-align: center;
      }

      .timer-container {
        position: static;
        font-size: 28px;
        text-align: center;
        margin: 10px 0;
      }

      .menu-btn {
        font-size: 18px;
        padding: 6px 12px;
        top: 15px;
        left: 15px;
      }

      .icon {
        height: 50px;
      }

      .container {
        margin: 15px auto;
        padding: 20px;
      }

      .division {
        margin-left: 50px;
        margin-right: 50px;
        padding: 1.5rem;
        max-width: none;
        width: auto;
      }

      .division ul li {
        font-size: 0.9rem;
        padding: 0.7rem 1rem;
        margin-bottom: 0.8rem;
      }

      .terminal,
      .intel-feed,
      .mission-upload,
      .agent-grid {
        width: 95%;
        margin: 25px auto;
      }

      .terminal {
        height: 200px;
        padding: 12px;
      }

      .agent-grid {
        flex-direction: column;
        align-items: center;
        gap: 15px;
      }

      .agent-card {
        width: 280px;
        padding: 18px;
      }

      .side_nav {
        width: 280px;
        left: -280px;
      }

      .side_nav ul {
        gap: 25px;
        margin-top: 60px;
      }

      .side_nav ul li a {
        font-size: 0.95rem;
        padding: 10px 15px;
      }

      .intel-feed,
      .mission-upload {
        padding: 15px;
      }

      .mission-upload input,
      .mission-upload textarea {
        font-size: 14px;
      }
    }

    /* Mobile Devices (up to 767px) */
    @media screen and (max-width: 767px) {
      .navbar {
        flex-direction: column;
        padding: 8px;
        gap: 8px;
      }

      .navbar h1 {
        font-size: 24px;
        margin-left: 0;
        text-align: center;
        letter-spacing: 1px;
      }

      .container h1 {
        font-size: 24px;
        text-align: center;
      }

      .timer-container {
        position: static;
        font-size: 24px;
        text-align: center;
        margin: 8px 0;
      }

      .menu-btn {
        font-size: 16px;
        padding: 6px 10px;
        top: 10px;
        left: 10px;
      }

      .icon {
        height: 40px;
      }

      .container {
        margin: 10px auto;
        padding: 15px;
      }

      .division {
        margin-left: 20px;
        margin-right: 20px;
        padding: 1rem;
        max-width: none;
        width: auto;
      }

      .division ul li {
        font-size: 0.8rem;
        padding: 0.6rem 0.8rem;
        margin-bottom: 0.6rem;
      }

      .terminal,
      .intel-feed,
      .mission-upload,
      .agent-grid {
        width: 98%;
        margin: 20px auto;
      }

      .terminal {
        height: 180px;
        padding: 10px;
        font-size: 12px;
      }

      #terminal-input {
        padding: 8px;
        font-size: 14px;
      }

      .agent-grid {
        flex-direction: column;
        align-items: center;
        gap: 12px;
      }

      .agent-card {
        width: 260px;
        padding: 15px;
        font-size: 0.85rem;
      }

      .side_nav {
        width: 250px;
        left: -250px;
        padding-top: 80px;
      }

      .side_nav ul {
        gap: 20px;
        margin-top: 40px;
      }

      .side_nav ul li a {
        font-size: 0.9rem;
        padding: 8px 12px;
      }

      .intel-feed,
      .mission-upload {
        padding: 12px;
        font-size: 14px;
      }

      .intel-feed h3,
      .mission-upload h3 {
        font-size: 18px;
      }

      .mission-upload input,
      .mission-upload textarea {
        font-size: 13px;
        padding: 8px;
      }

      .mission-upload button {
        padding: 8px 16px;
        font-size: 14px;
      }
    }

    /* High-DPI Laptops (Retina displays) */
    @media screen and (min-width: 1024px) and (-webkit-min-device-pixel-ratio: 2) {

      .timer-container,
      .navbar h1,
      .container h1 {
        text-shadow: 3px 3px 6px rgba(228, 18, 18, 0.8);
      }

      .agent-card {
        box-shadow: 0 0 15px #00ff41;
      }

      .division:hover {
        box-shadow:
          0 15px 50px rgba(0, 0, 0, 0.6),
          inset 0 1px 0 rgba(2, 241, 62, 0.95);
      }
    }

    /* Landscape Orientation for Small Laptops */
    @media screen and (max-height: 800px) and (min-width: 1024px) {
      .terminal {
        height: 200px;
      }

      .division {
        padding: 1.5rem;
      }

      .container {
        margin: 15px auto;
        padding: 20px;
      }

      .timer-container {
        top: 40px;
      }

      .menu-btn {
        top: 35px;
      }
    }
  </style>
</head>

<body>
  <div class="matrix-bg"></div>
  <button class="menu-btn" onclick="openSidebar()">☰</button>

  <nav class="navbar">
    <h1 class="glitch">
      <img src="landing_page/lockimg.png" alt="Cybersecurity Icon" class="icon" />
      <span id="glitch-text">ISIS Network</span>
    </h1>


  </nav>

  <div class="side_nav" id="sidebar">
    <button class="close-btn" onclick="closeSidebar()">✖</button>
    <ul>
      <li><a href="infiltration/redirect.html">Infiltration Panel</a></li>
      <li><a href="media/files.html">Media Archive</a></li>
      <li><a href="product/products.html">Products</a></li>
      <li><a href="intel/index.html">Intel Map</a></li>
    </ul>
  </div>

  <div class="container">
    <h1 class="glitch">ISIS Intel Dashboard</h1>
  </div>

  <div class="division">
    <ul>
      <li>Real eyes read between the lines. Real minds read behind them.</li>
      <li>Agents reporting in from sector 9. Code Black confirmed.</li>
      <li>Terminal breach attempt logged. AI firewall activated.</li>
      <li>Encrypted traffic intercepted on Port 443. Decoding...</li>
    </ul>
  </div>

  <div class="terminal">
    <div id="terminal-log">
      <p>Initializing ISIS Surveillance Network...</p>
    </div>
    <input type="text" id="terminal-input" placeholder=">_ Execute command..." onkeydown="runCommand(event)">
  </div>

  <div class="intel-feed">
    <h3>Live Intel Feed</h3>
    <ul id="intel-list"></ul>
  </div>

  <div class="mission-upload">
    <h3>Submit Covert Mission</h3>
    <form onsubmit="handleMissionUpload(event)">
      <input type="text" placeholder="Mission Codename" required>
      <textarea placeholder="Brief Description" required></textarea>
      <button type="submit">Upload</button>
    </form>
  </div>

  <div class="agent-grid">
    <div class="agent-card active">Agent Alpha - Active</div>
    <div class="agent-card missing">Agent Bravo - Missing</div>
    <div class="agent-card infiltrated">Agent Charlie - Infiltrated</div>
  </div>
  <script src="./js/timer.js"></script>

  <script>
    // Mission upload handler with image download
    function handleMissionUpload(event) {
      event.preventDefault();

      // Show alert and check if user clicks OK
      const userConfirmed = confirm("🚀 Mission data uploaded successfully to ISIS Cloud Vault.\n\nClick OK to download mission briefing file.");

      if (userConfirmed) {
        downloadMissionImage();
      }

      // Reset the form
      event.target.reset();
    }

    function downloadMissionImage() {
      // Create a canvas to generate the mission briefing image
      const canvas = document.createElement('canvas');
      const ctx = canvas.getContext('2d');

      // Set canvas size
      canvas.width = 800;
      canvas.height = 600;

      // Fill background with black
      ctx.fillStyle = '#000000';
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      // Add green border
      ctx.strokeStyle = '#00ff41';
      ctx.lineWidth = 4;
      ctx.strokeRect(10, 10, canvas.width - 20, canvas.height - 20);

      // Add title text
      ctx.fillStyle = '#00ff41';
      ctx.font = 'bold 32px Courier New';
      ctx.textAlign = 'center';
      ctx.fillText('CLASSIFIED MISSION BRIEFING', canvas.width / 2, 80);

      // Add subtitle
      ctx.fillStyle = '#ff0000';
      ctx.font = 'bold 24px Courier New';
      ctx.fillText('TOP SECRET ISIS INTEL', canvas.width / 2, 120);
      // YWRtaW4gbG9naW4=
      ctx.fillText('OPERATION BLACKOUT', canvas.width / 2, 150);

      // Add mission details
      ctx.fillStyle = '#00ff41';
      ctx.font = '18px Courier New';
      ctx.textAlign = 'left';

      const missionDetails = [
        'MISSION CODE: BLACKOUT-2025',
        'CLEARANCE LEVEL: ALPHA',
        'AGENT ASSIGNMENT: CLASSIFIED',
        'TARGET LOCATION: [REDACTED]',
        'OPERATION STATUS: ACTIVE',
        'EXTRACTION POINT: SECTOR 7',
        'COMMUNICATION FREQ: 144.390 MHz',
        'EMERGENCY PROTOCOL: PHOENIX',
        '',
        'WARNING: UNAUTHORIZED ACCESS PROHIBITED',
        'THIS DOCUMENT IS CLASSIFIED AND MONITORED'
      ];

      let yPosition = 200;
      missionDetails.forEach(line => {
        ctx.fillText(line, 50, yPosition);
        yPosition += 30;
      });

      // Add timestamp
      ctx.fillStyle = '#ff6b35';
      ctx.font = '14px Courier New';
      ctx.textAlign = 'right';
      ctx.fillText(`Generated: ${new Date().toISOString()}`, canvas.width - 50, canvas.height - 30);

      // Convert canvas to blob and download
      canvas.toBlob(function (blob) {
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'mission-briefing.png';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
      }, 'image/png');
    }
    // Sidebar functionality
    function openSidebar() {
      document.getElementById("sidebar").classList.add("open");
    }

    function closeSidebar() {
      document.getElementById("sidebar").classList.remove("open");
    }

    // Terminal functionality
    const terminalLog = document.getElementById("terminal-log");
    const terminalInput = document.getElementById("terminal-input");

    function runCommand(e) {
      if (e.key === "Enter") {
        const command = terminalInput.value.trim();
        if (command !== "") {
          terminalLog.innerHTML += `<p>> ${command}</p>`;
          fakeResponse(command);
          terminalInput.value = "";
          terminalLog.scrollTop = terminalLog.scrollHeight;
        }
      }
    }

    function fakeResponse(command) {
      const responses = {
        "trace": "Tracing IP... Target acquired.",
        "connect": "Establishing secure tunnel...",
        "download": "Downloading payload...",
        "kill": "Eliminating process...",
        "clear": "Clearing logs...",
      };

      const response = responses[command.toLowerCase()] || "Unknown command.";
      terminalLog.innerHTML += `<p style="color:#0f0">${response}</p>`;
    }

    // Intel feed functionality
    const fakeIntel = [
      "Satellite scan complete. No survivors found.",
      "Access granted: 192.168.31.9",
      "Uplink to Cairo established. Awaiting command...",
      "Data packet intercepted from comms relay.",
      "Scanning darknet forums for chatter...",
      "Surveillance drone deployed.",
      "Decrypting mission files...",
      "Red Flag: Unauthorized access attempt detected.",
    ];

    let intelIndex = 0;
    function updateIntelFeed() {
      const intelList = document.getElementById("intel-list");
      const li = document.createElement("li");
      li.textContent = fakeIntel[intelIndex % fakeIntel.length];
      intelList.appendChild(li);
      intelIndex++;
      if (intelList.children.length > 10) {
        intelList.removeChild(intelList.children[0]);
      }
    }
    setInterval(updateIntelFeed, 3000);

    // Agent status updates
    function updateAgentStatus() {
      const agents = document.querySelectorAll(".agent-card");
      agents.forEach(agent => {
        const rand = Math.random();
        if (rand < 0.33) {
          agent.className = "agent-card active";
          agent.textContent = agent.dataset.name + " - Active";
        } else if (rand < 0.66) {
          agent.className = "agent-card infiltrated";
          agent.textContent = agent.dataset.name + " - Infiltrated";
        } else {
          agent.className = "agent-card missing";
          agent.textContent = agent.dataset.name + " - Missing";
        }
      });
    }
    setInterval(updateAgentStatus, 2000);

    // Glitch title effect
    function glitchTitle() {
      const glitchEl = document.getElementById("glitch-text");
      const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890";
      const originalText = "ISIS Network";
      let iteration = 0;

      const interval = setInterval(() => {
        const glitchText = originalText.split("")
          .map((char, index) => {
            if (index < iteration) return originalText[index];
            return letters[Math.floor(Math.random() * letters.length)];
          }).join("");

        glitchEl.textContent = glitchText;

        if (iteration >= originalText.length) {
          clearInterval(interval);
          glitchEl.textContent = originalText;
        }

        iteration += 1 / 2;
      }, 50);
    }

    setInterval(glitchTitle, 3000);
    glitchTitle();

    // Utility functions
    function noop() { }
    function logWarning(msg) {
      console.warn(`[WARNING] ${msg}`);
    }
    function logError(msg) {
      console.error(`[ERROR] ${msg}`);
    }
    function debugModeToggle() {
      const status = Math.random() > 0.5 ? "ON" : "OFF";
      console.log(`🛠️ Debug Mode: ${status}`);
    }
    function simulateTrafficLoad() {
      for (let i = 0; i < 5; i++) {
        console.log(`🌐 Pinging node ${i + 1}...`);
      }
    }
    function dummyEncryption(data) {
      return btoa(data.split("").reverse().join(""));
    }
    function injectBackdoor(path) {
      console.log(`🕳️ Injecting backdoor to ${path}...`);
    }
    function sendWarningToHQ() {
      alert("⚠️ HQ Alert: Compromise detected.");
    }
    function launchSurveillanceSweep() {
      console.log("🎥 Initiating drone reconnaissance...");
    }
    function fakeProgressBar() {
      let progress = 0;
      const interval = setInterval(() => {
        progress += 10;
        console.log(`Progress: ${progress}%`);
        if (progress >= 200) clearInterval(interval);
      }, 300);
    }

    // Initialize utility functions
    noop(); debugModeToggle(); simulateTrafficLoad();
    logWarning("Suspicious activity detected");
    injectBackdoor("/etc/passwd");
    dummyEncryption("classifiedData");
    fakeProgressBar();

    // Matrix rain effect
    function createMatrixRain() {
      const canvas = document.createElement('canvas');
      const ctx = canvas.getContext('2d');
      canvas.style.position = 'fixed';
      canvas.style.top = '0';
      canvas.style.left = '0';
      canvas.style.width = '100%';
      canvas.style.height = '100%';
      canvas.style.zIndex = '-1';
      canvas.style.opacity = '0.3';
      document.body.appendChild(canvas);

      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      const matrix = "ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789@#$%^&*()*&^%+-/~{[|`]}";
      const matrixArray = matrix.split("");

      const fontSize = 10;
      const columns = canvas.width / fontSize;

      const drops = [];
      for (let x = 0; x < columns; x++) {
        drops[x] = 1;
      }

      function draw() {
        ctx.fillStyle = 'rgba(0, 0, 0, 0.07)';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        ctx.fillStyle = '#00ff41';
        ctx.font = fontSize + 'px JetBrains Mono';

        for (let i = 0; i < drops.length; i++) {
          const text = matrixArray[Math.floor(Math.random() * matrixArray.length)];
          ctx.fillText(text, i * fontSize, drops[i] * fontSize);

          if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
            drops[i] = 0;
          }
          drops[i]++;
        }
      }

      setInterval(draw, 95);
    }

    // Initialize matrix effect on page load
    window.addEventListener('load', createMatrixRain);

    // Handle window resize for matrix effect
    window.addEventListener('resize', () => {
      const canvas = document.querySelector('canvas');
      if (canvas) {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      }
    });

    // Close sidebar when clicking outside
    document.addEventListener('click', (e) => {
      const sidebar = document.getElementById('sidebar');
      const menuBtn = document.querySelector('.menu-btn');

      if (!sidebar.contains(e.target) && !menuBtn.contains(e.target) && sidebar.classList.contains('open')) {
        closeSidebar();
      }
    });
  </script>
</body>

</html>